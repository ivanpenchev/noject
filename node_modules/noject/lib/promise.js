/**
 * created by: Nikolai Aleksandrenko
 * email: aleksandrenko@gmail.com
 * www: aleksandrenko.com
 */

"use strict";

module.exports = function () {
  var successToCall = [],
      errorToCall = [],
      self = this;

  /**
   * @param newSuccessHandler
   * @return {Function}
   */
  this.done = function(newSuccessHandler) {
    successToCall.push(newSuccessHandler);
    return this;
  };

  /**
   * @param newErrorHandler
   * @return {function}
   */
  this.fail = function(newErrorHandler) {
    errorToCall.push(newErrorHandler);
    return this;
  };

  this.triggerSuccess = function(data) {
    successToCall.forEach(function (callback) {
      callback(data);
    });
  };

  this.triggerError = function(data) {
    errorToCall.forEach(function (callback) {
      callback(data);
    });
  };

};